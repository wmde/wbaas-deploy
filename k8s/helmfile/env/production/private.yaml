gceProject: wikibase-cloud
gceServiceAccountSecret: secret-wikibase-cloud-api
gcsApiStaticBucket: wikibase-cloud-static

certificates:
  -
    name: wikibase-cloud-tls
    commonName: wikibase.cloud
    dnsNames:
      - '*.wikibase.cloud'
      - 'wikibase.cloud'
    secretName: wikibase-cloud-tls
    issuerRef: letsencrypt-prod

uiHostName: www.wikibase.cloud
tlsSecret: wikibase-cloud-tls # TODO is this not used any more now?
ingressNameSuffix: wikibase-cloud

services:
  app:
    url: https://api.wikibase.cloud
    key: base64:J6jYydw3RczHiPFgJt9P5f4uuvEqe84pZsbMgRor4VI=
    jwtSecret: jg9jj98gg09as09sfa0fj0jg0avnmx
    mailer: mailgun
    ingressHosts:
      - host: api.wikibase.cloud
        paths:
          - /()(.*)
      - host: www.wikibase.cloud
        paths:
          - /api(/|$)(.*)
  sql:
    storageClass: premium-rwo
    storageSize: 60Gi
    api:
      db: apidb
      user: apiuser
  redis:
    # TODO replace this (is it even used? probably not?)
    password: nevergoingtoturnaround
    readHost: redis-headless.default.svc.cluster.local
    writeHost: redis-master.default.svc.cluster.local
    port: 6379
    # TODO move these databases out of private
    databases:
      apiDb: 2
      apiCacheDb: 3
      toolQuickstatements: 10
      toolWidar: 11
external:
  letsencrypt:
    email: thomas.arrow_ext@wikimedia.de
  recaptcha2:
    # NOTE: "staging" looks wrong here, but is current correct, as the module needs fixing
    secretName: recaptcha-v2-staging-secrets
  recaptcha3:
    # NOTE: "staging" looks wrong here, but is current correct, as the module needs fixing
    secretName: recaptcha-v3-staging-secrets
